var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")}),function(){function e(e){this.item=e,this.video=null,this.init()}e.prototype.init=function(){this.video=this.createVideo(),this.initVideo(this.video,this.item.dataset.source);var e=this.item.querySelector("canvas");e.width=e.clientWidth,e.height=e.clientHeight,this.drawVideo(this.video,e),this.item.querySelector(".video__player").addEventListener("click",this.show.bind(this))},e.prototype.initVideo=function(e,t){if(Hls.isSupported()){var i=new Hls;i.loadSource(t),i.attachMedia(e),i.on(Hls.Events.MANIFEST_PARSED,function(){e.play()})}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src="https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8",e.addEventListener("loadedmetadata",function(){e.play()}))},e.prototype.createVideo=function(){var e=document.createElement("video");return e.autoPlay=!0,e.loop=!0,e.muted=!0,e},e.prototype.drawVideo=function(e,a){var s=a.getContext("2d");e.addEventListener("play",function(){var r=this;!function e(){if(!r.paused&&!r.ended){a.width=a.clientWidth,a.height=a.clientHeight;var t=1.2*Math.min(a.width/r.videoWidth,a.height/r.videoHeight),i=r.videoHeight,o=r.videoWidth,n=a.height/2-i/2*t,d=a.width/2-o/2*t;s.drawImage(r,d,n,o*t,i*t),setTimeout(e,1e3/60)}}()})},e.prototype.show=function(e){var t=e.target.parentNode;t.classList.add("video--show"),this.video.muted=!1,t.querySelector(".video__close").addEventListener("click",this.hide.bind(this))},e.prototype.hide=function(e){var t=e.target.parentNode.parentNode;t.classList.remove("video--show"),this.video.muted=!0,t.style="z-index: 666;",setTimeout(function(){t.style=""},1e3)},window.Video=e}(),function(){function e(){this.init()}e.prototype.init=function(){for(var e=document.querySelectorAll(".video"),t=0;t<e.length;t++)new Video(e[t])},window.VideoController=e}(),new window.VideoController;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvLmpzIl0sIm5hbWVzIjpbImJ1dHRvbk1lbnUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZW51IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIlZpZGVvIiwiaXRlbSIsInRoaXMiLCJ2aWRlbyIsImluaXQiLCJwcm90b3R5cGUiLCJjcmVhdGVWaWRlbyIsImluaXRWaWRlbyIsImRhdGFzZXQiLCJzb3VyY2UiLCJjYW52YXMiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZHJhd1ZpZGVvIiwic2hvdyIsImJpbmQiLCJ1cmwiLCJIbHMiLCJpc1N1cHBvcnRlZCIsImhscyIsImxvYWRTb3VyY2UiLCJhdHRhY2hNZWRpYSIsIm9uIiwiRXZlbnRzIiwiTUFOSUZFU1RfUEFSU0VEIiwicGxheSIsImNhblBsYXlUeXBlIiwic3JjIiwiY3JlYXRlRWxlbWVudCIsImF1dG9QbGF5IiwibG9vcCIsIm11dGVkIiwiY3R4IiwiZ2V0Q29udGV4dCIsIiR0aGlzIiwicGF1c2VkIiwiZW5kZWQiLCJzY2FsZSIsIk1hdGgiLCJtaW4iLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJ2aWRIIiwidmlkVyIsInRvcCIsImxlZnQiLCJkcmF3SW1hZ2UiLCJzZXRUaW1lb3V0IiwiZXZlbnQiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwiYWRkIiwiaGlkZSIsInJlbW92ZSIsInN0eWxlIiwid2luZG93IiwiVmlkZW9Db250cm9sbGVyIiwidmlkZW9zIiwicXVlcnlTZWxlY3RvckFsbCIsImsiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFdBQWFDLFNBQVNDLGNBQWMsbUJBQ3BDQyxLQUFPRixTQUFTQyxjQUFjLGdCQUtsQ0YsV0FBV0ksaUJBQWlCLFFBQVMsV0FDbkNELEtBQUtFLFVBQVVDLE9BQU8seUJBR3ZCLFdBTUMsU0FBU0MsRUFBTUMsR0FDYkMsS0FBS0QsS0FBT0EsRUFD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b250ZW50IjpbInZhciBidXR0b25NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1lbnUtYnV0dG9uJyk7XG52YXIgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpO1xuXG4vKipcbiAqIEV2ZW50TGlzdGVuZXIgb24gY2xpY2sgbWVudSBidXR0b25cbiAqL1xuYnV0dG9uTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItbWVudS0tb3BlbmVkJyk7XG59KTtcblxuKGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogVmlkZW9cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBWaWRlbyhpdGVtKSB7XG4gICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICB0aGlzLnZpZGVvID0gbnVsbDtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemF0aW9uXG4gICAqL1xuICBWaWRlby5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnZpZGVvID0gdGhpcy5jcmVhdGVWaWRlbygpO1xuICAgIHRoaXMuaW5pdFZpZGVvKHRoaXMudmlkZW8sIHRoaXMuaXRlbS5kYXRhc2V0LnNvdXJjZSk7XG5cbiAgICB2YXIgY2FudmFzID0gdGhpcy5pdGVtLnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcbiAgICB0aGlzLmRyYXdWaWRlbyh0aGlzLnZpZGVvLCBjYW52YXMpO1xuXG4gICAgdGhpcy5pdGVtLnF1ZXJ5U2VsZWN0b3IoJy52aWRlb19fcGxheWVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3cuYmluZCh0aGlzKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemF0aW9uIHZpZGVvXG4gICAqIEBwYXJhbSB2aWRlb1xuICAgKiBAcGFyYW0gdXJsXG4gICAqL1xuICBWaWRlby5wcm90b3R5cGUuaW5pdFZpZGVvID0gZnVuY3Rpb24gKHZpZGVvLCB1cmwpIHtcbiAgICBpZiAoSGxzLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIHZhciBobHMgPSBuZXcgSGxzKCk7XG4gICAgICBobHMubG9hZFNvdXJjZSh1cmwpO1xuICAgICAgaGxzLmF0dGFjaE1lZGlhKHZpZGVvKTtcbiAgICAgIGhscy5vbihIbHMuRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2aWRlby5wbGF5KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHZpZGVvLmNhblBsYXlUeXBlKCdhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybCcpKSB7XG4gICAgICB2aWRlby5zcmMgPSAnaHR0cHM6Ly92aWRlby1kZXYuZ2l0aHViLmlvL3N0cmVhbXMveDM2eGh6ei94MzZ4aHp6Lm0zdTgnO1xuICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIHZpZGVvIGVsZW1lbnRcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgVmlkZW8ucHJvdG90eXBlLmNyZWF0ZVZpZGVvID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtcblxuICAgIHZpZGVvLmF1dG9QbGF5ID0gdHJ1ZTtcbiAgICB2aWRlby5sb29wID0gdHJ1ZTtcbiAgICB2aWRlby5tdXRlZCA9IHRydWU7XG5cbiAgICByZXR1cm4gdmlkZW87XG4gIH07XG5cbiAgLyoqXG4gICAqIERyYXcgb24gY2FudmFzXG4gICAqIEBwYXJhbSB2aWRlb1xuICAgKiBAcGFyYW0gY2FudmFzXG4gICAqL1xuICBWaWRlby5wcm90b3R5cGUuZHJhd1ZpZGVvID0gZnVuY3Rpb24gKHZpZGVvLCBjYW52YXMpIHtcbiAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgKGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgICAgIGlmICghJHRoaXMucGF1c2VkICYmICEkdGhpcy5lbmRlZCkge1xuXG4gICAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5taW4oXG4gICAgICAgICAgICBjYW52YXMud2lkdGggLyAkdGhpcy52aWRlb1dpZHRoLFxuICAgICAgICAgICAgY2FudmFzLmhlaWdodCAvICR0aGlzLnZpZGVvSGVpZ2h0KSAqIDEuMjtcblxuICAgICAgICAgIHZhciB2aWRIID0gJHRoaXMudmlkZW9IZWlnaHQ7XG4gICAgICAgICAgdmFyIHZpZFcgPSAkdGhpcy52aWRlb1dpZHRoO1xuICAgICAgICAgIHZhciB0b3AgPSBjYW52YXMuaGVpZ2h0IC8gMiAtICh2aWRIIC8gMikgKiBzY2FsZTtcbiAgICAgICAgICB2YXIgbGVmdCA9IGNhbnZhcy53aWR0aCAvIDIgLSAodmlkVyAvIDIpICogc2NhbGU7XG5cbiAgICAgICAgICBjdHguZHJhd0ltYWdlKCR0aGlzLCBsZWZ0LCB0b3AsIHZpZFcgKiBzY2FsZSwgdmlkSCAqIHNjYWxlKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGxvb3AsIDEwMDAgLyA2MCk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG5cbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogT3BlbiBmdWxsIHZpZGVvXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgVmlkZW8ucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgdmlkZW8gPSBldmVudC50YXJnZXQucGFyZW50Tm9kZTtcbiAgICB2aWRlby5jbGFzc0xpc3QuYWRkKCd2aWRlby0tc2hvdycpO1xuXG4gICAgdGhpcy52aWRlby5tdXRlZCA9IGZhbHNlO1xuXG4gICAgdmlkZW8ucXVlcnlTZWxlY3RvcignLnZpZGVvX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlLmJpbmQodGhpcykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbG9zZSBmdWxsIHZpZGVvXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgVmlkZW8ucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgdmlkZW8gPSBldmVudC50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgIHZpZGVvLmNsYXNzTGlzdC5yZW1vdmUoJ3ZpZGVvLS1zaG93Jyk7XG5cbiAgICB0aGlzLnZpZGVvLm11dGVkID0gdHJ1ZTtcblxuICAgIHZpZGVvLnN0eWxlID0gJ3otaW5kZXg6IDY2NjsnO1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB2aWRlby5zdHlsZSA9ICcnO1xuICAgIH0sIDEwMDApO1xuICB9O1xuXG4gIHdpbmRvdy5WaWRlbyA9IFZpZGVvO1xuXG59KCkpO1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBWaWRlbyBjb250cm9sbGVyXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gVmlkZW9Db250cm9sbGVyKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemF0aW9uXG4gICAqL1xuICBWaWRlb0NvbnRyb2xsZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZpZGVvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52aWRlbycpO1xuXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCB2aWRlb3MubGVuZ3RoOyBrKyspIHtcbiAgICAgIG5ldyBWaWRlbyh2aWRlb3Nba10pO1xuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuVmlkZW9Db250cm9sbGVyID0gVmlkZW9Db250cm9sbGVyO1xuXG59KCkpO1xuXG5uZXcgd2luZG93LlZpZGVvQ29udHJvbGxlcigpO1xuIl19
