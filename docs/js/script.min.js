var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),moduleStats=template.content.querySelector(".module__stats"),moduleButtons=template.content.querySelector(".module__buttons"),moduleGraph=template.content.querySelector(".module__graph"),modulePlayer=template.content.querySelector(".player"),modulePicture=template.content.querySelector(".module__picture"),moduleDetails=template.content.querySelector(".module__cam-details"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);var events=data.events;function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function parseTemplate(e,t){var l=e.outerHTML;return Object.keys(t).forEach(function(e){null===t[e]&&(t[e]=""),l=l.replace("{{ "+e+" }}",t[e])}),createElementFromHTML(l)}for(var i=0;i<events.length;i++){var module=moduleTemplate.cloneNode(!0);if(module=parseTemplate(moduleTemplate,events[i]),""===events[i].description&&module.querySelector(".module__message").classList.add("module__message--disabled"),"data"in events[i]){if("stats"===events[i].icon){var graph=moduleGraph.cloneNode(!0);module.querySelector(".module__message").appendChild(graph)}if("thermal"===events[i].icon){var stats=moduleStats.cloneNode(!0);stats=parseTemplate(moduleStats,events[i].data),module.querySelector(".module__message").appendChild(stats)}if("music"===events[i].icon){var player=modulePlayer.cloneNode(!0);player=parseTemplate(modulePlayer,{albumcover:events[i].data.albumcover,artist:events[i].data.artist,name:events[i].data.track.name,length:events[i].data.track.length,volume:events[i].data.volume}),module.querySelector(".module__message").appendChild(player)}if("fridge"===events[i].icon){for(var buttons=moduleButtons.cloneNode(!0),buttonsList=buttons.querySelectorAll(".button"),j=0;j<buttonsList.length;j++)buttonsList[j].textContent=events[i].data.buttons[j];module.querySelector(".module__message").appendChild(buttons)}if("cam"===events[i].icon){var picture=modulePicture.cloneNode(!0),details=moduleDetails.cloneNode(!0);module.querySelector(".module__message").appendChild(picture),module.querySelector(".module__message").appendChild(details)}}grid.appendChild(module)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlU3RhdHMiLCJtb2R1bGVCdXR0b25zIiwibW9kdWxlR3JhcGgiLCJtb2R1bGVQbGF5ZXIiLCJtb2R1bGVQaWN0dXJlIiwibW9kdWxlRGV0YWlscyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNlbmQiLCJzdGF0dXMiLCJhbGVydCIsInN0YXR1c1RleHQiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJldmVudHMiLCJjcmVhdGVFbGVtZW50RnJvbUhUTUwiLCJodG1sU3RyaW5nIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJmaXJzdENoaWxkIiwicGFyc2VUZW1wbGF0ZSIsInZhcmlhYmxlcyIsInJlc3VsdCIsIm91dGVySFRNTCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicmVwbGFjZSIsImkiLCJsZW5ndGgiLCJtb2R1bGUiLCJjbG9uZU5vZGUiLCJkZXNjcmlwdGlvbiIsImFkZCIsImljb24iLCJncmFwaCIsImFwcGVuZENoaWxkIiwic3RhdHMiLCJwbGF5ZXIiLCJhbGJ1bWNvdmVyIiwiYXJ0aXN0IiwibmFtZSIsInRyYWNrIiwidm9sdW1lIiwiYnV0dG9ucyIsImJ1dHRvbnNMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImoiLCJ0ZXh0Q29udGVudCIsInBpY3R1cmUiLCJkZXRhaWxzIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxXQUFhQyxTQUFTQyxjQUFjLG1CQUNwQ0MsS0FBT0YsU0FBU0MsY0FBYyxnQkFLbENGLFdBQVdJLGlCQUFpQixRQUFTLFdBQ25DRCxLQUFLRSxVQUFV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SWUsUUFBVWxELGNBQWNnQyxXQUFVLEdBQ2xDbUIsUUFBVWxELGNBQWMrQixXQUFVLEdBQ3RDRCxPQUFPN0MsY0FBYyxvQkFBb0JtRCxZQUFZYSxTQUNyRG5CLE9BQU83QyxjQUFjLG9CQUFvQm1ELFlBQVljLFVBS3pEM0QsS0FBSzZDLFlBQVlOIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYnV0dG9uTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tZW51LWJ1dHRvbicpO1xudmFyIG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKTtcblxuLyoqXG4gKiBFdmVudExpc3RlbmVyIG9uIGNsaWNrIG1lbnUgYnV0dG9uXG4gKi9cbmJ1dHRvbk1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLW1lbnUtLW9wZW5lZCcpO1xufSk7XG5cbnZhciBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQnKTtcblxudmFyIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZHVsZVRlbXBsYXRlJyk7XG5cbnZhciBtb2R1bGVUZW1wbGF0ZSA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZScpO1xudmFyIG1vZHVsZVN0YXRzID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19zdGF0cycpO1xudmFyIG1vZHVsZUJ1dHRvbnMgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX2J1dHRvbnMnKTtcbnZhciBtb2R1bGVHcmFwaCA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fZ3JhcGgnKTtcbnZhciBtb2R1bGVQbGF5ZXIgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXInKTtcbnZhciBtb2R1bGVQaWN0dXJlID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19waWN0dXJlJyk7XG52YXIgbW9kdWxlRGV0YWlscyA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fY2FtLWRldGFpbHMnKTtcblxudmFyIGRhdGE7XG5cbnZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbnhoci5vcGVuKCdHRVQnLCAnZXZlbnRzLmpzb24nLCBmYWxzZSk7XG54aHIuc2VuZCgpO1xuaWYgKHhoci5zdGF0dXMgIT0gMjAwKSB7XG4gIGFsZXJ0KCB4aHIuc3RhdHVzICsgJzogJyArIHhoci5zdGF0dXNUZXh0ICk7XG59IGVsc2Uge1xuICBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbn1cblxudmFyIGV2ZW50cyA9IGRhdGEuZXZlbnRzO1xuXG4vKipcbiAqIENyZWF0ZXMgZWxlbWVudCBmcm9tIGh0bWxcbiAqIEBwYXJhbSBodG1sU3RyaW5nXG4gKiBAcmV0dXJucyB7Tm9kZX1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEZyb21IVE1MKGh0bWxTdHJpbmcpIHtcbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG4gIHJldHVybiBkaXYuZmlyc3RDaGlsZDtcbn1cblxuLyoqXG4gKiBQYXJzZXMgdGVtcGxhdGUgYW5kIHJlcGxhY2VzIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB0ZW1wbGF0ZVxuICogQHBhcmFtIHZhcmlhYmxlc1xuICogQHJldHVybnMge05vZGV9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHZhcmlhYmxlcykge1xuICB2YXIgcmVzdWx0ID0gdGVtcGxhdGUub3V0ZXJIVE1MO1xuICBPYmplY3Qua2V5cyh2YXJpYWJsZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh2YXJpYWJsZXNba2V5XSA9PT0gbnVsbCkge1xuICAgICAgdmFyaWFibGVzW2tleV0gPSAnJztcbiAgICB9XG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoJ3t7ICcgKyBrZXkgKyAnIH19JywgdmFyaWFibGVzW2tleV0pO1xuICB9KTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRGcm9tSFRNTChyZXN1bHQpO1xufVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuXG4gIHZhciBtb2R1bGUgPSBtb2R1bGVUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gIG1vZHVsZSA9IHBhcnNlVGVtcGxhdGUobW9kdWxlVGVtcGxhdGUsIGV2ZW50c1tpXSk7XG5cbiAgaWYgKGV2ZW50c1tpXS5kZXNjcmlwdGlvbiA9PT0gJycpIHtcbiAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmNsYXNzTGlzdC5hZGQoJ21vZHVsZV9fbWVzc2FnZS0tZGlzYWJsZWQnKTtcbiAgfVxuXG4gIGlmICgnZGF0YScgaW4gZXZlbnRzW2ldKSB7XG5cbiAgICBpZiAoZXZlbnRzW2ldLmljb24gPT09ICdzdGF0cycpIHtcbiAgICAgIHZhciBncmFwaCA9IG1vZHVsZUdyYXBoLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoZ3JhcGgpO1xuICAgIH1cblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ3RoZXJtYWwnKSB7XG4gICAgICB2YXIgc3RhdHMgPSBtb2R1bGVTdGF0cy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBzdGF0cyA9IHBhcnNlVGVtcGxhdGUobW9kdWxlU3RhdHMsIGV2ZW50c1tpXS5kYXRhKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoc3RhdHMpO1xuICAgIH1cblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ211c2ljJykge1xuICAgICAgdmFyIHBsYXllciA9IG1vZHVsZVBsYXllci5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBwbGF5ZXIgPSBwYXJzZVRlbXBsYXRlKG1vZHVsZVBsYXllciwge1xuICAgICAgICBhbGJ1bWNvdmVyOiBldmVudHNbaV0uZGF0YS5hbGJ1bWNvdmVyLFxuICAgICAgICBhcnRpc3Q6IGV2ZW50c1tpXS5kYXRhLmFydGlzdCxcbiAgICAgICAgbmFtZTogZXZlbnRzW2ldLmRhdGEudHJhY2submFtZSxcbiAgICAgICAgbGVuZ3RoOiBldmVudHNbaV0uZGF0YS50cmFjay5sZW5ndGgsXG4gICAgICAgIHZvbHVtZTogZXZlbnRzW2ldLmRhdGEudm9sdW1lXG4gICAgICB9KTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQocGxheWVyKTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnRzW2ldLmljb24gPT09ICdmcmlkZ2UnKSB7XG4gICAgICB2YXIgYnV0dG9ucyA9IG1vZHVsZUJ1dHRvbnMuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgdmFyIGJ1dHRvbnNMaXN0ID0gYnV0dG9ucy5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uJyk7XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYnV0dG9uc0xpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgYnV0dG9uc0xpc3Rbal0udGV4dENvbnRlbnQgPSBldmVudHNbaV0uZGF0YS5idXR0b25zW2pdO1xuICAgICAgfVxuXG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKGJ1dHRvbnMpO1xuICAgIH1cblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ2NhbScpIHtcbiAgICAgIHZhciBwaWN0dXJlID0gbW9kdWxlUGljdHVyZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB2YXIgZGV0YWlscyA9IG1vZHVsZURldGFpbHMuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX21lc3NhZ2UnKS5hcHBlbmRDaGlsZChwaWN0dXJlKTtcbiAgICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuYXBwZW5kQ2hpbGQoZGV0YWlscyk7XG4gICAgfVxuXG4gIH1cblxuICBncmlkLmFwcGVuZENoaWxkKG1vZHVsZSk7XG59XG5cbiJdfQ==
