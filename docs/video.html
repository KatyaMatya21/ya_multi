<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Умный дом | Видеонаблюдение</title>
  <link rel="stylesheet" href="css/style.min.css">
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>

<body>

  <header class="page-header">
    <h1 class="visually-hidden">Яндекс Дом</h1>
    <div class="page-header__inner container">
      <a class="page-header__logo" href="index.html">
        <img src="images/logo.svg" width="113" height="38" alt="Яндекс Дом">
      </a>
      <nav class="page-header__nav header-menu">
        <button class="header-menu__button js-menu-button" type="button">
          <span class="visually-hidden">Меню</span>
        </button>
        <ul class="header-menu__list">
          <li class="header-menu__item header-menu__item--current">
            <a class="header-menu__link" href="#">События</a>
          </li>
          <li class="header-menu__item">
            <a class="header-menu__link" href="#">Сводка</a>
          </li>
          <li class="header-menu__item">
            <a class="header-menu__link" href="#">Устройства</a>
          </li>
          <li class="header-menu__item">
            <a class="header-menu__link" href="#">Сценарии</a>
          </li>
          <li class="header-menu__item">
            <a class="header-menu__link" href="video.html">Видеонаблюдение</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>


  <main class="page-content wrap">

    <div class="grid-video">
      <ul class="grid-video__list">
        <li class="grid-video__cell">
          <div class="video">
            <video class="video__player" id="video-1" controls muted autoplay></video>
            <div class="video__controls">
              <label class="video__control video__control--brightness">
                Яркость
                <input class="video__input" type="range">
              </label>
              <label class="video__control video__control--contrast">
                Контрастность
                <input class="video__input" type="range">
              </label>
              <button class="video__close button button--yellow" type="button">Все камеры</button>
            </div>
          </div>
        </li>

        <li class="grid-video__cell">
          <div class="video">
            <video class="video__player" id="video-2" controls muted autoplay></video>
            <div class="video__controls">
              <label class="video__control video__control--brightness">
                Яркость
                <input class="video__input" type="range">
              </label>
              <label class="video__control video__control--contrast">
                Контрастность
                <input class="video__input" type="range">
              </label>
              <button class="video__close button button--yellow" type="button">Все камеры</button>
            </div>
          </div>
        </li>

        <li class="grid-video__cell">
          <div class="video">
            <video class="video__player" id="video-3" controls muted autoplay></video>
            <div class="video__controls">
              <label class="video__control video__control--brightness">
                Яркость
                <input class="video__input" type="range">
              </label>
              <label class="video__control video__control--contrast">
                Контрастность
                <input class="video__input" type="range">
              </label>
              <button class="video__close button button--yellow" type="button">Все камеры</button>
            </div>
          </div>
        </li>

        <li class="grid-video__cell">
          <div class="video">
            <video id="video-4" class="video__player" controls muted autoplay></video>
            <div class="video__controls">
              <label class="video__control video__control--brightness">
                Яркость
                <input class="video__input" type="range">
              </label>
              <label class="video__control video__control--contrast">
                Контрастность
                <input class="video__input" type="range">
              </label>
              <button class="video__close button button--yellow" type="button">Все камеры</button>
            </div>
          </div>
        </li>

      </ul>
    </div>

  </main>

  <footer class="page-footer">
    <div class="page-footer__inner container">
      <nav class="page-footer__nav footer-menu">
        <ul class="footer-menu__list">
          <li class="footer-menu__item">
            <a class="footer-menu__link" href="#">Помощь</a>
          </li>
          <li class="footer-menu__item">
            <a class="footer-menu__link" href="#">Обратная связь</a>
          </li>
          <li class="footer-menu__item">
            <a class="footer-menu__link" href="#">Разработчикам</a>
          </li>
          <li class="footer-menu__item">
            <a class="footer-menu__link" href="#">Условия использования</a>
          </li>
          <li class="footer-menu__item">
            <a class="footer-menu__link" href="images/license.pdf">Лицензия</a>
          </li>
        </ul>
      </nav>
      <p class="page-footer__copyright">© 2001–2018 ООО «Яндекс»</p>
    </div>
  </footer>


  <script>
    function initVideo(video, url) {
      if (Hls.isSupported()) {
        var hls = new Hls();
        hls.loadSource(url);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, function () {
          video.play();
        });
      } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = 'https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8';
        video.addEventListener('loadedmetadata', function () {
          video.play();
        });
      }
    }
  
    initVideo(
      document.getElementById('video-1'),
      'http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fsosed%2Fmaster.m3u8'
    );
  
    initVideo(
      document.getElementById('video-2'),
      'http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fcat%2Fmaster.m3u8'
    );
  
    initVideo(
      document.getElementById('video-3'),
      'http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fdog%2Fmaster.m3u8'
    );
  
    initVideo(
      document.getElementById('video-4'),
      'http://localhost:9191/master?url=http%3A%2F%2Flocalhost%3A3102%2Fstreams%2Fhall%2Fmaster.m3u8'
    );
  </script>


  <script src="js/video.min.js" type="text/javascript"></script>
</body>

</html>
